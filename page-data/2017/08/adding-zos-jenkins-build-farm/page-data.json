{"componentChunkName":"component---src-templates-blog-post-js","path":"/2017/08/adding-zos-jenkins-build-farm/","result":{"data":{"site":{"siteMetadata":{"title":"AdoptOpenJDK Blog"}},"mdx":{"id":"5d515964-51f4-5829-ab6e-383e992c4314","excerpt":"Adding zOS to a Jenkins server as an ssh agent can be a difficult task, that's why I've documented the steps that we were required follow to add our zOSâ€¦","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Adding zOS to our Jenkins Build Farm\",\n  \"date\": \"2017-08-16T09:48:53+00:00\",\n  \"author\": \"georgeadams\",\n  \"description\": \"Adding zOS to a Jenkins server as an ssh agent can be a difficult task, that's why I've documented the steps that we were required follow to add our zOS machines to Jenkins.\",\n  \"tags\": [\"faq\", \"infrastructure\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Adding zOS to a Jenkins server as an ssh agent can be a difficult task, that\\u2019s why I\\u2019ve documented the steps that we were required follow to add our zOS machines to Jenkins.  \"), mdx(\"h2\", null, \"Adding Java to zOS\"), mdx(\"p\", null, \"All Jenkins build agents require Java to be on the machine to run the Slave agent. Normally an OpenJDK binary would be recommended to run the slave agent but there is no official zOS OpenJDK binary so I would recommend fetching IBM\\u2019s Java from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www-03.ibm.com/systems/z/os/zos/tools/java/\"\n  }), \"here\"), \".\"), mdx(\"h2\", null, \"Adding the Machine to Jenkins\"), mdx(\"p\", null, \"Head over to \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"https://<jenkins-server>/computer/new\"), \", specify a node name and tick permanent agent.  \"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/3f3472b14040b6191d6923df4f8fa98a/2bef9/Screen-Shot-2017-08-16-at-10.39.26-1024x264.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"25.675675675675674%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAAg0lEQVQY042O3Q7DIAiF+/6vaTKjMVbjv1a6E1nX7m7fBQEOB9hqrSmlMcZ+UUpBefwy5zyJELnEQAhhOxfoYgvn2GWMyTnzEAPVORdjnBdEdJtZg8d7r5TSWuMLfgEq+i8prbW07gPc+JjBt9t7rwsYYKbFc4wTqLf5T1prUkohBMxv/JIkvYKLgMgAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Jenkins Screenshot 1\",\n    \"title\": \"Jenkins Screenshot 1\",\n    \"src\": \"/static/3f3472b14040b6191d6923df4f8fa98a/fcda8/Screen-Shot-2017-08-16-at-10.39.26-1024x264.png\",\n    \"srcSet\": [\"/static/3f3472b14040b6191d6923df4f8fa98a/12f09/Screen-Shot-2017-08-16-at-10.39.26-1024x264.png 148w\", \"/static/3f3472b14040b6191d6923df4f8fa98a/e4a3f/Screen-Shot-2017-08-16-at-10.39.26-1024x264.png 295w\", \"/static/3f3472b14040b6191d6923df4f8fa98a/fcda8/Screen-Shot-2017-08-16-at-10.39.26-1024x264.png 590w\", \"/static/3f3472b14040b6191d6923df4f8fa98a/efc66/Screen-Shot-2017-08-16-at-10.39.26-1024x264.png 885w\", \"/static/3f3472b14040b6191d6923df4f8fa98a/2bef9/Screen-Shot-2017-08-16-at-10.39.26-1024x264.png 1024w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \"), \"  \"), mdx(\"p\", null, \"Once you have reached the machine configuration page specify the Launch method as Launch slave agents via SSH. Set the host IP Address, Credentials and Host Key Verification Strategy and then click advanced.  \"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/17d1319ca489c93bb53c14cc29c270f7/2bef9/Screen-Shot-2017-08-16-at-10.44.29-1024x622.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"60.810810810810814%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAAA+UlEQVQoz42Shw6EMAxD+f8fRSD23jleda7KTSJZ0DRx7bRR3/fWtq3N82x5nluWZe47DION42jTNNm6rrYsywXbtjloTX9d1xbZM/Z9dwQKiiFvmsYTQCwS8mVVuTW9QnQchwEW1VmAWqlL09SSJHEg51WdarLTRRzH7hD6yePWERIhsU7FBpYB/9pXj5wJHOoJSWAltAwUIhO0H+bovxAyF74Em1gGZVn6GX4D+zi5EDI/kho8M+XGdZBUfcNHQuG1+Jc64Y2QdwRQxiXcUfVTIdfOTYHwAd9R95Gw6zoPyCkMb/EfcBWhRvaKonB2ZZtZ3rGtGoQ8AHj4rXyfuUxYAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Jenkins Screenshot 2\",\n    \"title\": \"Jenkins Screenshot 2\",\n    \"src\": \"/static/17d1319ca489c93bb53c14cc29c270f7/fcda8/Screen-Shot-2017-08-16-at-10.44.29-1024x622.png\",\n    \"srcSet\": [\"/static/17d1319ca489c93bb53c14cc29c270f7/12f09/Screen-Shot-2017-08-16-at-10.44.29-1024x622.png 148w\", \"/static/17d1319ca489c93bb53c14cc29c270f7/e4a3f/Screen-Shot-2017-08-16-at-10.44.29-1024x622.png 295w\", \"/static/17d1319ca489c93bb53c14cc29c270f7/fcda8/Screen-Shot-2017-08-16-at-10.44.29-1024x622.png 590w\", \"/static/17d1319ca489c93bb53c14cc29c270f7/efc66/Screen-Shot-2017-08-16-at-10.44.29-1024x622.png 885w\", \"/static/17d1319ca489c93bb53c14cc29c270f7/2bef9/Screen-Shot-2017-08-16-at-10.44.29-1024x622.png 1024w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"In the advanced page, set the JavaPath as the path to the Java binary that you downloaded earlier and then add the following to JVM Options:  \"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"language-text\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"-Dfile.encoding=ISO8859-1\"))), mdx(\"p\", null, \"This will allow Jenkins to understand the Ebcdic output from Java on the machine.  \"), mdx(\"p\", null, \"You should now be able to successfully launch the Jenkins Java agent on your zOS machines.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Adding zOS to our Jenkins Build Farm","author":"georgeadams","date":"August 16, 2017","description":"Adding zOS to a Jenkins server as an ssh agent can be a difficult task, that's why I've documented the steps that we were required follow to add our zOS machines to Jenkins."}}},"pageContext":{"slug":"/adding-zos-jenkins-build-farm/","postPath":"/2017/08/adding-zos-jenkins-build-farm/","previous":{"fields":{"slug":"/github-pages-cloudflare/","postPath":"/2017/08/github-pages-cloudflare/"},"frontmatter":{"title":"GitHub Pages with Cloudflare"}},"next":{"fields":{"slug":"/off-great-start/","postPath":"/2017/09/off-great-start/"},"frontmatter":{"title":"We're off to a great start"}}}}}